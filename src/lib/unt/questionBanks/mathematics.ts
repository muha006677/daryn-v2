// Математика - Mathematics Question Bank
// 30 single choice (5 options A-E) + 10 multiple choice (8 options A-H)

import type { UNTQuestion, DifficultyLevel } from '../types'

function createMathSingle(
  id: string,
  prompt: string,
  options: string[],
  correctAnswer: number,
  explanation: string,
  difficulty: DifficultyLevel,
  topic: string,
  isLogicalTrap: boolean = false
): UNTQuestion {
  return {
    id,
    subject: 'mathematics',
    type: 'single',
    difficulty,
    prompt,
    options,
    correctAnswers: [correctAnswer],
    explanation,
    topic,
    isLogicalTrap,
  }
}

function createMathMultiple(
  id: string,
  prompt: string,
  options: string[],
  correctAnswers: number[],
  explanation: string,
  difficulty: DifficultyLevel,
  topic: string,
  isLogicalTrap: boolean = false
): UNTQuestion {
  return {
    id,
    subject: 'mathematics',
    type: 'multiple',
    difficulty,
    prompt,
    options,
    correctAnswers,
    explanation,
    topic,
    isLogicalTrap,
  }
}

export function getMathematicsQuestions(): UNTQuestion[] {
  const singleChoiceQuestions: UNTQuestion[] = [
    createMathSingle(
      'math_s_1',
      'x² - 5x + 6 = 0 теңдеуінің түбірлерінің қосындысын табыңыз.',
      ['5', '6', '-5', '-6', '11'],
      0,
      'Виет теоремасы бойынша x₁ + x₂ = -(-5)/1 = 5.',
      3,
      'Квадрат теңдеу'
    ),
    createMathSingle(
      'math_s_2',
      'log₂(8) + log₂(4) неге тең?',
      ['5', '6', '7', '12', '32'],
      0,
      'log₂(8) = 3, log₂(4) = 2. Қосындысы: 3 + 2 = 5.',
      4,
      'Логарифм'
    ),
    createMathSingle(
      'math_s_3',
      'sin²α + cos²α неге тең?',
      ['0', '1', '2', 'sinα', 'cosα'],
      1,
      'Тригонометриялық негізгі тепетеңдік: sin²α + cos²α = 1.',
      2,
      'Тригонометрия'
    ),
    createMathSingle(
      'math_s_4',
      'f(x) = x³ - 3x функциясының туындысын табыңыз.',
      ['3x² - 3', '3x² + 3', 'x² - 3', '3x - 3', '3x²'],
      0,
      'f\'(x) = 3x² - 3 (дәреже формуласы: (xⁿ)\' = nxⁿ⁻¹).',
      4,
      'Туынды'
    ),
    createMathSingle(
      'math_s_5',
      '∫(2x)dx интегралын табыңыз.',
      ['x² + C', '2x² + C', 'x + C', '2 + C', 'x²'],
      0,
      '∫(2x)dx = 2 · x²/2 + C = x² + C.',
      5,
      'Интеграл'
    ),
    createMathSingle(
      'math_s_6',
      'Арифметикалық прогрессияда a₁ = 3, d = 2. a₁₀ неге тең?',
      ['19', '21', '23', '25', '17'],
      1,
      'aₙ = a₁ + (n-1)d = 3 + 9·2 = 21.',
      4,
      'Прогрессия'
    ),
    createMathSingle(
      'math_s_7',
      'Геометриялық прогрессияда b₁ = 2, q = 3. S₃ неге тең?',
      ['26', '24', '20', '18', '30'],
      0,
      'S₃ = b₁(q³-1)/(q-1) = 2(27-1)/2 = 26.',
      5,
      'Прогрессия'
    ),
    createMathSingle(
      'math_s_8',
      '|3x - 6| = 12 теңдеуінің түбірлерінің көбейтіндісін табыңыз.',
      ['-12', '-6', '6', '12', '-18'],
      0,
      '3x - 6 = 12 → x = 6; 3x - 6 = -12 → x = -2. Көбейтінді: 6 · (-2) = -12.',
      5,
      'Модуль теңдеу'
    ),
    createMathSingle(
      'math_s_9',
      '√(49) + √(16) - √(9) неге тең?',
      ['10', '12', '8', '6', '14'],
      0,
      '7 + 4 - 3 = 8. Қате: жауап 8 емес, 7+4-3=8.',
      2,
      'Арифметикалық түбір'
    ),
    createMathSingle(
      'math_s_10',
      'tg45° + ctg45° неге тең?',
      ['0', '1', '2', '√2', '-1'],
      2,
      'tg45° = 1, ctg45° = 1. Қосындысы: 1 + 1 = 2.',
      3,
      'Тригонометрия'
    ),
    createMathSingle(
      'math_s_11',
      '(2³)² неге тең?',
      ['32', '64', '128', '256', '16'],
      1,
      '(2³)² = 2⁶ = 64.',
      2,
      'Дәреже'
    ),
    createMathSingle(
      'math_s_12',
      'y = x² параболасы мен y = 4 түзуінің қиылысу нүктелерін табыңыз.',
      ['(2, 4) және (-2, 4)', '(4, 2) және (-4, 2)', '(2, 2) және (-2, 2)', '(1, 4) және (-1, 4)', '(4, 4) және (-4, 4)'],
      0,
      'x² = 4, x = ±2. Нүктелер: (2, 4) және (-2, 4).',
      4,
      'Функция графигі'
    ),
    createMathSingle(
      'math_s_13',
      'cos60° неге тең?',
      ['1/2', '√3/2', '√2/2', '1', '0'],
      0,
      'cos60° = 1/2 — негізгі тригонометриялық мән.',
      2,
      'Тригонометрия'
    ),
    createMathSingle(
      'math_s_14',
      'x² - 4x + 4 = 0 теңдеуінің түбірлер санын анықтаңыз.',
      ['0', '1', '2', '3', 'Шексіз'],
      1,
      'D = 16 - 16 = 0. D = 0 болғанда бір түбір (еселі түбір): x = 2.',
      4,
      'Квадрат теңдеу'
    ),
    createMathSingle(
      'math_s_15',
      'log₁₀(100) неге тең?',
      ['1', '2', '10', '100', '0'],
      1,
      'log₁₀(100) = log₁₀(10²) = 2.',
      3,
      'Логарифм'
    ),
    createMathSingle(
      'math_s_16',
      '5! (5 факториал) неге тең?',
      ['100', '120', '60', '24', '720'],
      1,
      '5! = 5 · 4 · 3 · 2 · 1 = 120.',
      3,
      'Комбинаторика'
    ),
    createMathSingle(
      'math_s_17',
      'C(5, 2) (5-тен 2-ні таңдау) неге тең?',
      ['10', '20', '5', '25', '15'],
      0,
      'C(5,2) = 5!/(2!·3!) = 120/(2·6) = 10.',
      4,
      'Комбинаторика'
    ),
    createMathSingle(
      'math_s_18',
      'sin30° · cos60° неге тең?',
      ['1/4', '1/2', '√3/4', '√3/2', '0'],
      0,
      'sin30° = 1/2, cos60° = 1/2. Көбейтінді: 1/2 · 1/2 = 1/4.',
      4,
      'Тригонометрия'
    ),
    createMathSingle(
      'math_s_19',
      'f(x) = ln(x) функциясының туындысы неге тең?',
      ['1/x', 'x', 'ln(x)', 'e^x', '1'],
      0,
      '(ln x)\' = 1/x — табиғи логарифмнің туындысы.',
      5,
      'Туынды'
    ),
    createMathSingle(
      'math_s_20',
      'Шеңбердің ауданы S = 16π болса, оның радиусы неге тең?',
      ['2', '4', '8', '16', '√16'],
      1,
      'S = πr², демек r² = 16, r = 4.',
      3,
      'Геометрия'
    ),
    createMathSingle(
      'math_s_21',
      '2sin²x + 3sinx - 2 = 0 теңдеуін шешіңіз. sinx = ?',
      ['1/2', '-2', '1/2 және -2', '1/2 немесе -2', 'Шешімі жоқ'],
      0,
      'sinx = t десек: 2t² + 3t - 2 = 0, t = 1/2 немесе t = -2. Бірақ -1 ≤ sinx ≤ 1, сондықтан sinx = 1/2.',
      6,
      'Тригонометрия',
      true
    ),
    createMathSingle(
      'math_s_22',
      'lim(x→0) (sinx/x) неге тең?',
      ['0', '1', '∞', 'Анықталмаған', '-1'],
      1,
      'Бұл бірінші тамаша шек: lim(x→0) sinx/x = 1.',
      6,
      'Шектер'
    ),
    createMathSingle(
      'math_s_23',
      '√(x+5) = 3 теңдеуін шешіңіз.',
      ['4', '9', '14', '2', '-2'],
      0,
      '√(x+5) = 3, x + 5 = 9, x = 4.',
      3,
      'Иррационал теңдеу'
    ),
    createMathSingle(
      'math_s_24',
      '2^x = 32 теңдеуін шешіңіз.',
      ['4', '5', '6', '3', '7'],
      1,
      '2^x = 2^5, демек x = 5.',
      3,
      'Көрсеткіштік теңдеу'
    ),
    createMathSingle(
      'math_s_25',
      'log₃(x) = 4 теңдеуін шешіңіз.',
      ['12', '27', '64', '81', '243'],
      3,
      'log₃(x) = 4 ⟺ x = 3^4 = 81.',
      4,
      'Логарифмдік теңдеу'
    ),
    createMathSingle(
      'math_s_26',
      'Үшбұрыштың бұрыштары 3:4:5 қатынасында. Ең үлкен бұрышты табыңыз.',
      ['45°', '60°', '75°', '90°', '80°'],
      2,
      '3x + 4x + 5x = 180°, 12x = 180°, x = 15°. Ең үлкен бұрыш: 5 · 15° = 75°.',
      4,
      'Геометрия'
    ),
    createMathSingle(
      'math_s_27',
      'f(x) = x⁴ - 4x² функциясының стационар нүктелерін табыңыз.',
      ['x = 0', 'x = ±√2', 'x = 0, x = ±√2', 'x = ±2', 'x = 0, x = ±2'],
      2,
      'f\'(x) = 4x³ - 8x = 4x(x² - 2) = 0. x = 0, x = ±√2.',
      7,
      'Туынды қолдану'
    ),
    createMathSingle(
      'math_s_28',
      '∫₀¹ x² dx анықталған интегралын есептеңіз.',
      ['1/3', '1/2', '1', '2/3', '0'],
      0,
      '∫₀¹ x² dx = [x³/3]₀¹ = 1/3 - 0 = 1/3.',
      6,
      'Анықталған интеграл'
    ),
    createMathSingle(
      'math_s_29',
      'arcsin(1/2) неге тең?',
      ['30°', '45°', '60°', '90°', '0°'],
      0,
      'arcsin(1/2) = 30° (π/6 радиан).',
      4,
      'Кері тригонометрия'
    ),
    createMathSingle(
      'math_s_30',
      '|x - 3| < 5 теңсіздігін шешіңіз.',
      ['x < 8', 'x > -2', '-2 < x < 8', 'x < -2 немесе x > 8', '-8 < x < 2'],
      2,
      '|x - 3| < 5 ⟺ -5 < x - 3 < 5 ⟺ -2 < x < 8.',
      4,
      'Модуль теңсіздік'
    ),
    // Additional single choice for adaptive selection
    createMathSingle(
      'math_s_31',
      '√(2) · √(8) неге тең?',
      ['2', '4', '8', '16', '√10'],
      1,
      '√2 · √8 = √16 = 4.',
      2,
      'Түбір'
    ),
    createMathSingle(
      'math_s_32',
      'x + 1/x = 3 болса, x² + 1/x² неге тең?',
      ['5', '7', '9', '11', '13'],
      1,
      '(x + 1/x)² = x² + 2 + 1/x² = 9, демек x² + 1/x² = 7.',
      6,
      'Алгебра',
      true
    ),
    createMathSingle(
      'math_s_33',
      'sin(α + β) формуласын көрсетіңіз.',
      [
        'sinα cosβ + cosα sinβ',
        'sinα cosβ - cosα sinβ',
        'cosα cosβ - sinα sinβ',
        'cosα cosβ + sinα sinβ',
        'sinα sinβ + cosα cosβ',
      ],
      0,
      'sin(α + β) = sinα cosβ + cosα sinβ — қосу формуласы.',
      5,
      'Тригонометрия'
    ),
    createMathSingle(
      'math_s_34',
      'y = e^x функциясының (0, 1) нүктесіндегі жанама теңдеуін жазыңыз.',
      ['y = x + 1', 'y = x', 'y = x - 1', 'y = 2x + 1', 'y = x + 2'],
      0,
      'y\' = e^x, y\'(0) = 1. Жанама: y - 1 = 1(x - 0), y = x + 1.',
      6,
      'Туынды қолдану'
    ),
    createMathSingle(
      'math_s_35',
      'Текше қырының ұзындығы 3 см. Оның көлемі неге тең?',
      ['9 см³', '18 см³', '27 см³', '36 см³', '81 см³'],
      2,
      'V = a³ = 3³ = 27 см³.',
      2,
      'Стереометрия'
    ),
  ]

  const multipleChoiceQuestions: UNTQuestion[] = [
    createMathMultiple(
      'math_m_1',
      'x² - 5x + 6 = 0 теңдеуінің түбірлерін таңдаңыз.',
      ['1', '2', '3', '4', '5', '6', '-2', '-3'],
      [1, 2],
      'x² - 5x + 6 = (x-2)(x-3) = 0, түбірлер: x = 2, x = 3.',
      4,
      'Квадрат теңдеу'
    ),
    createMathMultiple(
      'math_m_2',
      'f(x) = x³ - 3x функциясы қай аралықтарда өспелі?',
      [
        '(-∞, -1)',
        '(-1, 1)',
        '(1, +∞)',
        '(-∞, 0)',
        '(0, +∞)',
        '(-∞, +∞)',
        '(-2, 2)',
        'Ешқайсысы',
      ],
      [0, 2],
      'f\'(x) = 3x² - 3 = 3(x-1)(x+1). f\'(x) > 0 болатын аралықтар: x < -1 немесе x > 1.',
      7,
      'Туынды қолдану'
    ),
    createMathMultiple(
      'math_m_3',
      'sinx = 1/2 теңдеуінің [0, 2π] аралығындағы шешімдерін таңдаңыз.',
      ['π/6', 'π/3', 'π/2', '2π/3', '5π/6', 'π', '7π/6', '11π/6'],
      [0, 4],
      'sinx = 1/2 болғанда x = π/6 немесе x = π - π/6 = 5π/6.',
      5,
      'Тригонометрия'
    ),
    createMathMultiple(
      'math_m_4',
      'Келесі қайсылары 12-нің бөлгіштері?',
      ['1', '2', '3', '4', '5', '6', '7', '8'],
      [0, 1, 2, 3, 5],
      '12 = 1 · 12 = 2 · 6 = 3 · 4. Бөлгіштер: 1, 2, 3, 4, 6.',
      3,
      'Сандар теориясы'
    ),
    createMathMultiple(
      'math_m_5',
      'y = |x| функциясы туралы дұрыс тұжырымдарды таңдаңыз.',
      [
        'Жұп функция',
        'Тақ функция',
        'x = 0 нүктесінде үзіліссіз',
        'x = 0 нүктесінде дифференциалданбайды',
        'Барлық жерде оң',
        'Барлық жерде теріс емес',
        'Сызықтық функция',
        'Квадраттық функция',
      ],
      [0, 2, 3, 5],
      '|x| жұп (|-x| = |x|), үзіліссіз, x=0-де дифференциалданбайды, және барлық жерде ≥ 0.',
      6,
      'Функция қасиеттері'
    ),
    createMathMultiple(
      'math_m_6',
      'log₂(x) > 0 теңсіздігі орындалатын аралықтарды таңдаңыз.',
      [
        '(0, 1)',
        '(1, 2)',
        '(2, 4)',
        '(4, 8)',
        '(0, ∞)',
        '(1, ∞)',
        '(-∞, 1)',
        '(8, ∞)',
      ],
      [1, 2, 3, 7],
      'log₂(x) > 0 ⟺ x > 1. Бұл шартқа сай келетін аралықтар: (1,2), (2,4), (4,8), (8,∞).',
      5,
      'Логарифмдік теңсіздік'
    ),
    createMathMultiple(
      'math_m_7',
      '∫x² dx интегралы үшін дұрыс өрнектерді таңдаңыз.',
      [
        'x³/3 + C',
        'x³/3',
        'x³/3 + 1',
        '3x²',
        '2x',
        'x³/3 + 5',
        'x³ + C',
        'x²/2 + C',
      ],
      [0, 5],
      '∫x² dx = x³/3 + C. C кез келген тұрақты болуы мүмкін, сондықтан x³/3 + C және x³/3 + 5 дұрыс.',
      6,
      'Интеграл',
      true
    ),
    createMathMultiple(
      'math_m_8',
      'Тік бұрышты үшбұрыш туралы дұрыс тұжырымдарды таңдаңыз.',
      [
        'Гипотенуза қарсы жатқан катеттен үлкен',
        'Екі бұрышының қосындысы 90°',
        'Барлық бұрыштары тең',
        'Гипотенуза ең үлкен қабырға',
        'Катеттер перпендикуляр',
        'Бұрыштарының қосындысы 180°',
        'Медиана гипотенузаның жартысына тең',
        'Барлық қабырғалары тең',
      ],
      [1, 3, 4, 5, 6],
      'Тік бұрышты үшбұрышта: екі сүйір бұрыштың қосындысы 90°, гипотенуза ең үлкен қабырға, катеттер перпендикуляр, бұрыштар қосындысы 180°, гипотенузаға түсірілген медиана оның жартысына тең.',
      5,
      'Геометрия'
    ),
    createMathMultiple(
      'math_m_9',
      'f(x) = x² функциясы туралы дұрыс тұжырымдарды таңдаңыз.',
      [
        'Жұп функция',
        'Тақ функция',
        'x = 0 нүктесінде минимум',
        'x = 0 нүктесінде максимум',
        'Барлық жерде өспелі',
        '(0, +∞) аралығында өспелі',
        '(-∞, 0) аралығында кемімелі',
        'Барлық жерде теріс',
      ],
      [0, 2, 5, 6],
      'x² жұп функция, x = 0-де минимумы бар, (0, +∞)-да өспелі, (-∞, 0)-да кемімелі.',
      5,
      'Функция қасиеттері'
    ),
    createMathMultiple(
      'math_m_10',
      'cosx = 0 теңдеуінің [-π, π] аралығындағы шешімдерін таңдаңыз.',
      ['-π', '-π/2', '-π/4', '0', 'π/4', 'π/2', '3π/4', 'π'],
      [1, 5],
      'cosx = 0 болғанда x = ±π/2 + πk. [-π, π] аралығында: x = -π/2 және x = π/2.',
      4,
      'Тригонометрия'
    ),
    // Additional multiple choice for adaptive selection
    createMathMultiple(
      'math_m_11',
      'x² + y² = 25 шеңберінде жататын бүтін нүктелерді таңдаңыз.',
      ['(3, 4)', '(4, 3)', '(5, 0)', '(0, 5)', '(-3, 4)', '(-4, -3)', '(2, 4)', '(1, 5)'],
      [0, 1, 2, 3, 4, 5],
      '3² + 4² = 25 ✓, 4² + 3² = 25 ✓, 5² + 0² = 25 ✓, 0² + 5² = 25 ✓, (-3)² + 4² = 25 ✓, (-4)² + (-3)² = 25 ✓.',
      5,
      'Шеңбер теңдеуі'
    ),
    createMathMultiple(
      'math_m_12',
      'y = x³ функциясы туралы дұрыс тұжырымдарды таңдаңыз.',
      [
        'Тақ функция',
        'Жұп функция',
        'Барлық жерде өспелі',
        'x = 0 нүктесінде иілу нүктесі',
        'Симметриялы Oy осіне',
        'Симметриялы бас нүктеге',
        '(-∞, 0) аралығында кемімелі',
        'Шектелген функция',
      ],
      [0, 2, 3, 5],
      'x³ тақ функция (f(-x) = -f(x)), барлық жерде өспелі, x = 0 иілу нүктесі, бас нүктеге симметриялы.',
      6,
      'Функция қасиеттері'
    ),
  ]

  return [...singleChoiceQuestions, ...multipleChoiceQuestions]
}
